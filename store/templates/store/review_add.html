{% extends 'base.html' %}

{% block content %}
<div class="container" style="max-width:600px; margin:40px auto">
  <div style="margin-bottom:32px">
    <h1 style="margin:0 0 8px 0; font-size:2rem; font-weight:700">Оставить отзыв</h1>
    <p style="color:var(--muted); margin:0">{{ product.name }}</p>
  </div>

  <div style="background:var(--light); border-radius:12px; padding:30px; border:1px solid var(--border)">
    <form method="post">
      {% csrf_token %}

      <!-- Оценка -->
      <div style="margin-bottom:24px">
        <label for="id_rating" style="display:block; font-weight:600; margin-bottom:12px; color:var(--text)">
          Ваша оценка *
        </label>
        <div style="display:flex; gap:12px; align-items:center">
          <input type="number" id="id_rating" name="rating" min="1" max="5" value="5" style="width:80px; padding:12px 14px; border:1px solid var(--border); border-radius:8px; background:var(--light); color:var(--text); font-size:1rem">
          <span style="color:var(--muted)">1-5 звёзд</span>
        </div>
      </div>

      <!-- Текст отзыва -->
      <div style="margin-bottom:24px">
        <label for="id_text" style="display:block; font-weight:600; margin-bottom:8px; color:var(--text)">
          Ваш комментарий
        </label>
        <textarea id="id_text" name="text" rows="6" placeholder="Поделитесь вашим мнением о товаре..." style="width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:8px; background:var(--light); color:var(--text); font-size:1rem; box-sizing:border-box; font-family:inherit; resize:vertical"></textarea>
      </div>

      <!-- Кнопки -->
      <div style="display:flex; gap:12px">
        <button type="submit" style="flex:1; padding:14px; background:var(--primary); color:var(--dark); border:none; border-radius:8px; font-weight:700; font-size:1rem; cursor:pointer">
          ✓ Отправить отзыв
        </button>
        <a href="{% url 'product_detail' product.id %}" style="padding:14px 24px; border:1px solid var(--border); border-radius:8px; text-decoration:none; color:var(--text); font-weight:600; text-align:center">
          ✕ Отмена
        </a>
      </div>
    </form>
  </div>
</div>

<style>
  input[type="number"],
  textarea {
    transition: all 0.2s;
  }

  html.dark input[type="number"],
  html.dark textarea {
    background: #333;
    border-color: #444;
  }

  input[type="number"]:focus,
  textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(255, 204, 0, 0.1);
  }

  button[type="submit"]:hover {
    background: #ffb800;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 204, 0, 0.3);
  }

  button[type="submit"]:active {
    transform: translateY(0);
  }
</style>
{% endblock %}
