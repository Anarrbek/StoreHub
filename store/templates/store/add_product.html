{% extends 'base.html' %}

{% block content %}
<div class="container" style="max-width:800px">
  <div style="margin-bottom:40px">
    <h1 style="margin:0 0 8px 0; font-size:2rem; font-weight:700">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</h1>
    <p style="color:var(--muted); margin:0">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º —Ç–æ–≤–∞—Ä–µ</p>
  </div>

  <div style="background:var(--light); border-radius:12px; padding:30px; border:1px solid var(--border)">
    {% if messages %}
      {% for message in messages %}
        <div style="padding:12px; background:#dff0d8; color:#3c763d; border-radius:6px; margin-bottom:20px; border:1px solid #bce8b1">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      
      {% if form.non_field_errors %}
        <div style="padding:12px; background:#f2dede; color:#a94442; border-radius:6px; margin-bottom:20px; border:1px solid #ebccd1">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <!-- –ù–∞–∑–≤–∞–Ω–∏–µ -->
      <div style="margin-bottom:24px">
        <label for="{{ form.name.id_for_label }}" style="display:block; font-weight:600; margin-bottom:8px; color:var(--text)">
          –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *
        </label>
        {{ form.name }}
        {% if form.name.errors %}
          <div style="color:#d32f2f; font-size:0.85rem; margin-top:6px">{{ form.name.errors }}</div>
        {% endif %}
        <p style="color:var(--muted); font-size:0.85rem; margin-top:6px">–ü—Ä–∏–º–µ—Ä—ã: iPhone 15, –ö—Ä–æ—Å—Å–æ–≤–∫–∏ Nike, –ù–æ—É—Ç–±—É–∫ Lenovo</p>
      </div>

      <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
      <div style="margin-bottom:24px">
        <label for="{{ form.description.id_for_label }}" style="display:block; font-weight:600; margin-bottom:8px; color:var(--text)">
          –û–ø–∏—Å–∞–Ω–∏–µ
        </label>
        {{ form.description }}
        {% if form.description.errors %}
          <div style="color:#d32f2f; font-size:0.85rem; margin-top:6px">{{ form.description.errors }}</div>
        {% endif %}
      </div>

      <!-- –¶–µ–Ω–∞ –∏ –û—Å—Ç–∞—Ç–æ–∫ -->
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-bottom:24px">
        <div>
          <label for="{{ form.price.id_for_label }}" style="display:block; font-weight:600; margin-bottom:8px; color:var(--text)">
            –¶–µ–Ω–∞ (‚ÇΩ) *
          </label>
          {{ form.price }}
          {% if form.price.errors %}
            <div style="color:#d32f2f; font-size:0.85rem; margin-top:6px">{{ form.price.errors }}</div>
          {% endif %}
        </div>

        <div>
          <label for="{{ form.stock.id_for_label }}" style="display:block; font-weight:600; margin-bottom:8px; color:var(--text)">
            –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ *
          </label>
          {{ form.stock }}
          {% if form.stock.errors %}
            <div style="color:#d32f2f; font-size:0.85rem; margin-top:6px">{{ form.stock.errors }}</div>
          {% endif %}
        </div>
      </div>

      <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
      <div style="margin-bottom:24px">
        <label for="{{ form.category.id_for_label }}" style="display:block; font-weight:600; margin-bottom:8px; color:var(--text)">
          –ö–∞—Ç–µ–≥–æ—Ä–∏—è
        </label>
        {{ form.category }}
        {% if form.category.errors %}
          <div style="color:#d32f2f; font-size:0.85rem; margin-top:6px">{{ form.category.errors }}</div>
        {% endif %}
      </div>

      <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
      <div style="margin-bottom:30px">
        <label for="{{ form.image.id_for_label }}" style="display:block; font-weight:600; margin-bottom:8px; color:var(--text)">
          –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
        </label>
        <label for="{{ form.image.id_for_label }}" style="display:block; border:2px dashed var(--border); border-radius:8px; padding:30px 20px; text-align:center; cursor:pointer; background:rgba(0,0,0,0.02); transition:all 0.2s; margin-bottom:8px">
          <div style="font-size:2rem; margin-bottom:8px">üì∏</div>
          <div style="font-weight:600; margin-bottom:4px">–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</div>
          <div style="color:var(--muted); font-size:0.9rem">JPG, PNG –¥–æ 10MB</div>
          {{ form.image }}
        </label>
        {% if form.image.errors %}
          <div style="color:#d32f2f; font-size:0.85rem">{{ form.image.errors }}</div>
        {% endif %}
        <p style="color:var(--muted); font-size:0.85rem; margin-top:6px">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 400x400px</p>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ -->
      <div style="display:flex; gap:12px">
        <button type="submit" class="btn-submit" style="background:var(--primary); color:var(--dark); padding:14px 24px; border:none; border-radius:8px; font-weight:700; font-size:1rem; cursor:pointer; flex:1">
          ‚úì –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
        </button>
        <a href="{% url 'product_list' %}" style="padding:14px 24px; border:1px solid var(--border); border-radius:8px; text-decoration:none; color:var(--text); font-weight:600; text-align:center">
          ‚úï –û—Ç–º–µ–Ω–∞
        </a>
      </div>
    </form>
  </div>
</div>

<style>
  input[type="text"],
  input[type="number"],
  textarea,
  select {
    width: 100%;
    padding: 12px 14px;
    border: 1px solid var(--border);
    border-radius: 8px;
    background: var(--light);
    color: var(--text);
    font-size: 1rem;
    font-family: inherit;
    transition: all 0.2s;
  }

  html.dark input[type="text"],
  html.dark input[type="number"],
  html.dark textarea,
  html.dark select {
    background: #333;
    border-color: #444;
  }

  input[type="text"]:focus,
  input[type="number"]:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(255, 204, 0, 0.1);
  }

  textarea {
    resize: vertical;
    min-height: 100px;
  }

  label[for="{{ form.image.id_for_label }}"]:hover {
    background: rgba(255, 204, 0, 0.05);
    border-color: var(--primary);
  }

  .btn-submit:hover {
    background: #ffb800;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 204, 0, 0.3);
  }

  .btn-submit:active {
    transform: translateY(0);
  }
</style>
{% endblock %}
