# ============================================================================
# StoreHub Production Environment Configuration
# ============================================================================
# IMPORTANT: Copy this file to .env and fill in ALL values before deployment
# NEVER commit .env to version control!
# ============================================================================

# ============================================================================
# DJANGO CONFIGURATION
# ============================================================================

# Environment type (development, staging, production)
ENVIRONMENT=production

# Django debug mode - MUST BE FALSE IN PRODUCTION!
DEBUG=False

# Django secret key - Generate with:
# python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
DJANGO_SECRET_KEY=your-super-secret-key-change-this-immediately

# Allowed hosts - comma separated domains where site is accessible
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,api.yourdomain.com

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Enable PostgreSQL (set to True) or use SQLite (False)
USE_POSTGRESQL=True

# PostgreSQL Settings
DB_NAME=storehouse
DB_USER=storehouse_user
DB_PASSWORD=change-this-strong-password-12345
DB_HOST=postgres  # or your database server hostname
DB_PORT=5432

# ============================================================================
# REDIS CACHE & CELERY
# ============================================================================

# Redis URL for caching and Celery task queue
REDIS_URL=redis://redis:6379/0

# Use local memory cache instead of Redis (for testing only)
USE_LOCAL_MEMORY_CACHE=False

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Enable HTTPS redirect
SECURE_SSL_REDIRECT=True

# Secure session and CSRF cookies for HTTPS only
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# ============================================================================
# CORS (Cross-Origin Resource Sharing)
# ============================================================================

# Comma-separated list of allowed origins for API requests
# Example: https://frontend.yourdomain.com,https://app.yourdomain.com
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================================================
# PAYMENT PROCESSING (STRIPE)
# ============================================================================

# Get these from https://dashboard.stripe.com/apikeys
# IMPORTANT: Use LIVE keys in production, TEST keys in development

# Stripe Publishable Key (pk_live_... or pk_test_...)
STRIPE_PUBLIC_KEY=pk_live_your_publishable_key_here

# Stripe Secret Key (sk_live_... or sk_test_...)
STRIPE_SECRET_KEY=sk_live_your_secret_key_here

# Stripe Webhook Secret (for payment events)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# Email backend (smtp, sendgrid, mailgun)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# Gmail SMTP Settings
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True

# Gmail account credentials
# For Gmail: Enable 2FA, then generate App Password
# See: https://myaccount.google.com/apppasswords
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-gmail-app-password

# Or use SendGrid
# EMAIL_BACKEND=sendgrid_backend.SendgridBackend
# SENDGRID_API_KEY=your-sendgrid-api-key

# Or use Mailgun
# MAILGUN_API_KEY=your-mailgun-api-key
# MAILGUN_DOMAIN=mail.yourdomain.com

# Default sender email
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
ORDER_NOTIFICATION_EMAIL=orders@yourdomain.com

# ============================================================================
# SELLER & MARKETPLACE SETTINGS
# ============================================================================

# Platform commission percentage (10 = 10%, seller gets 90%)
SELLER_COMMISSION_PERCENTAGE=10

# Minimum amount for sellers to withdraw earnings
MIN_WITHDRAWAL_AMOUNT=1000

# ============================================================================
# LOGGING
# ============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Sentry Error Tracking (optional, for production monitoring)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id

# ============================================================================
# ADVANCED OPTIONS
# ============================================================================

# Database SSL Mode (for cloud databases like AWS RDS)
# DB_SSLMODE=require

# Custom timezone
TIME_ZONE=Asia/Bishkek

# Maximum file upload size (in bytes)
FILE_UPLOAD_MAX_MEMORY_SIZE=52428800  # 50MB

# Client max body size for Nginx (should match above)
CLIENT_MAX_BODY_SIZE=100M

# Number of Gunicorn workers (CPU cores Ã— 2 + 1)
GUNICORN_WORKERS=5

# ============================================================================
# DEPLOYMENT INSTRUCTIONS
# ============================================================================
#
# 1. Update all placeholders in this file with your actual values
# 
# 2. For DJANGO_SECRET_KEY generation:
#    python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
#
# 3. For PostgreSQL password generation:
#    openssl rand -base64 32
#
# 4. For Stripe keys:
#    - Go to https://dashboard.stripe.com/apikeys
#    - Copy Publishable Key (pk_live_...)
#    - Copy Secret Key (sk_live_...)
#    - Go to https://dashboard.stripe.com/webhooks for Webhook Secret
#
# 5. For Gmail App Password:
#    - Enable 2FA in Google Account
#    - Go to https://myaccount.google.com/apppasswords
#    - Create new app password for "Mail" and "Windows Computer"
#
# 6. Deploy with Docker:
#    docker-compose up -d
#
# 7. Run migrations:
#    docker-compose exec web python manage.py migrate
#
# 8. Create superuser:
#    docker-compose exec web python manage.py createsuperuser
#
# 9. Collect static files:
#    docker-compose exec web python manage.py collectstatic --noinput
#
# 10. Check logs:
#     docker-compose logs -f web
#
# ============================================================================
